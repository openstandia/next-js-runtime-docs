## まえがき

本ドキュメントでは、DenoやBunといった次世代JSランタイムを使用し、JS/TSの開発体験向上のためのガイドやプラクティスを紹介します。

## 次世代JSランタイムとは？

### JSランタイム

JavaScriptはもともとブラウザ上で実行されることを前提としたプログラミング言語です。しかし、イベントループやノンブロッキングI/OといったJavaScriptが持つ特性をサーバサイドアプリケーションにも活用したいというニーズが高まりました。そのニーズに応え、エンジニアのRyan Dahlが2009年にリリースしたのが、サーバサイドでもJavaScriptを実行できるランタイム（実行環境）であるNode.jsです。

Node.jsがインストールされたサーバでは、Node.jsによってJavaScriptアプリケーションが実行されます。Node.jsは標準ライブラリを提供しており、ファイルやネットワークなどのI/O操作をアプリケーションから利用することができます。

Node.jsは実行環境としてだけでなく、開発環境としても利用されることが増えています。これは、開発に必要なツールやライブラリがパッケージとして公開されているためです。まず、開発環境の構築のために開発端末にNode.jsをインストールし、ビルド成果物を動かすために実行端末にもNode.jsをインストールすることが一般的になっています。

Node.jsはnpmというパッケージマネージャも提供しています。npmを使用することで、JavaScript向けのライブラリやフレームワークを個別にインストールして利用することができます。

### Node.jsが抱える課題

前述のように、Node.jsは開発時・実行時の両方でランタイムとしてのデファクトスタンダードの地位を築いています。しかし、Node.jsが登場してからJavaScriptを取り巻く環境は大きく変わり、その中でNode.jsの課題が顕著になってきました。

Node.jsの作者であるRyan Dahlは、jsconf.eu 2018で「10 Things I Regret About Node.js」というタイトルでNode.jsに対する後悔を語っています。中にはすでに解決されているものもありますが、現行のNode.jsが抱える主な課題は以下の通りです。

- 動的型付けの問題
- ファイルやネットワークに対するパーミッションコントロールが不足していること
- ビルドシステムがgypであること
- package.jsonにノイズが多く、ディレクトリ単位でモジュール化してしまうこと
- モジュール解決システム（`node_modules`）が複雑すぎること
- import時に`.js`のような拡張子を省略できること

### アプローチ

Node.jsの課題を解決し、より良いJS/TSの開発体験を実現するために、Node.jsに代わる次世代JSランタイムが登場しました。

2024年現在、次世代JSランタイムの中で開発が進んでいる主なものに「Deno」と「Bun」があります。

Denoは、前述のNode.jsの開発者であるRyan DahlがNode.jsの後悔を解消するために新たに開発したJSランタイムです（名前もNodeのアナグラムになっています）。

BunはJarred Sumnerが開発したJSランタイムで、Zigという言語で作成されており、非常に高速で動作するのが特徴です。Node.js時代の資産をそのまま活用できることを目指しており、Node.jsプロジェクトのような構成やnpmパッケージとの互換性が強調されています。

どちらのランタイムも、従来のnpmパッケージの活用やバンドラ・トランスパイラの内蔵といった特徴を備えており、開発時の書きやすさと速さを重視しています。

## 次世代JSランタイムの導入

<!-- 次世代JSランタイムの導入フェーズはいくつかあることを書く -->

### 開発プロセス

<!-- 開発環境としての次世代ランタイム -->

### サーバサイド

<!-- サーバサイドアプリケーションの実行環境としての次世代ランタイム -->

## DenoとBunの比較

<!-- DenoとBunの機能比較。ある程度進んだら書く。 -->